!function() {
    function t(t) {
        var n;
        switch (e) {
          case 1:
            n = o;
            break;

          case 2:
            n = u;
            break;

          case 3:
            n = i;
            break;

          case 4:
            n = s;
        }
        var p = k(t, n), h = p[0], f = p[1], l = p[2];
        console.log(l);
        var d = parseInt(h, 36) - 10, g = parseInt(f) - 1, v = l ? l.replace(c, "").split("").map(function(t) {
            return parseInt(t);
        }).map(function(t) {
            return [ a[t - 1][0], a[t - 1][1] ];
        }).map(function(t, n) {
            var e = Math.pow(1 / 3, n + 1);
            return [ t[0] * e, t[1] * e ];
        }) : [];
        console.log(v);
        var M, m, b, y;
        v.length ? (M = v.map(function(t) {
            return t[0];
        }), m = v.map(function(t) {
            return t[1];
        }), b = M.reduce(function(t, n) {
            return t + n;
        }), y = m.reduce(function(t, n) {
            return t + n;
        })) : (b = 0, y = 0);
        var A = d + b, I = g + y, P = Math.pow(1 / 3, v.length);
        return console.log(P), [ A * r, I * r, P * r ];
    }
    function n(t, n) {
        var e = t[0], r = t[1], a = t[2], o = n[0], u = n[1], i = n[2];
        return [ Math.hypot(o - e, u - r), Math.hypot(a, i) ];
    }
    var e = 2, r = 300, a = [ [ 0, 2 ], [ 1, 2 ], [ 2, 2 ], [ 0, 1 ], [ 1, 1 ], [ 2, 1 ], [ 0, 0 ], [ 1, 0 ], [ 2, 0 ] ], o = /^([A-Za-z])([1-9])((?:\-(?:[Kk][Pp]?)?[1-9])*)(?:\-(?:[Kk][Pp]?)?)?$/, u = /^([A-Za-z])([1-9])((?:(?:[Kk][Pp]?)?[1-9])*)(?:[Kk][Pp]?)?$/, i = /^([A-Za-z])([1-9])\s+((?:[1-9])*)(?:\s+)?$/, s = /^([A-Za-z])([1-9])((?:\s+[1-9])*)(?:\s+)?$/, c = /[^1-9]/g, p = {}, h = {}, f = [ [ 50, 1579 ], [ 100, 1558 ], [ 150, 1538 ], [ 200, 1517 ], [ 250, 1496 ], [ 300, 1475 ], [ 350, 1453 ], [ 400, 1431 ], [ 450, 1409 ], [ 500, 1387 ], [ 550, 1364 ], [ 600, 1341 ], [ 650, 1317 ], [ 700, 1292 ], [ 750, 1267 ], [ 800, 1240 ], [ 850, 1212 ], [ 900, 1183 ], [ 950, 1152 ], [ 1e3, 1118 ], [ 1050, 1081 ], [ 1100, 1039 ], [ 1150, 988 ], [ 1200, 918 ], [ 1250, 800 ] ], l = 180 / Math.PI, d = function(t) {
        if (t < 50) return p;
        if (t > 1250) return h;
        var n, e, r, a, o, u, i, s, c, l;
        for (n = 0; n < f.length; n++) {
            if (e = f[n], r = f[n + 1], a = e[0], o = e[1], t === a) return o;
            if (!((u = r[0]) <= t)) return i = r[1], s = u - a, c = i - o, l = t - a, Math.round(c / s * l + o);
        }
    }, g = function(t, n) {
        var e = t[0], r = t[1], a = n[0], o = n[1], u = a - e, i = o - r, s = Math.hypot(u, i), c = u / s, p = i / s, h = Math.atan2(p, c), f = h * l;
        return 0 === c && 1 === p ? 180 : a > e && o >= r ? f + 90 : a >= e && o < r ? f + 90 : a < e && o >= r ? f + 90 : a <= e && o < r ? 180 - Math.abs(f) + 270 : void 0;
    }, v = function(t) {
        return [ t[0], t[1] ];
    }, M = function(t) {
        return [ t[0] + t[2], t[1] ];
    }, m = function(t) {
        return [ t[0] + t[2], t[1] + t[2] ];
    }, b = function(t) {
        return [ t[0], t[1] + t[2] ];
    }, y = function(t, n) {
        var e, r = n[0] - t[0], a = n[1] - t[1];
        if (Math.hypot(t[2], t[2]) > Math.hypot(r, a) || Math.hypot(n[2], n[2]) > Math.hypot(r, a)) return null;
        return 0 === r && a < 0 ? (1, e = [ [ m(t), b(n) ], [ b(t), m(n) ] ]) : r > 0 && a < 0 ? (2, 
        e = [ [ m(t), v(n) ], [ v(t), m(n) ] ]) : r > 0 && 0 === a ? (3, e = [ [ b(t), v(n) ], [ v(t), b(n) ] ]) : r > 0 && a > 0 ? (4, 
        e = [ [ b(t), M(n) ], [ M(t), b(n) ] ]) : 0 === r && a > 0 ? (5, e = [ [ v(t), M(n) ], [ M(t), v(n) ] ]) : r < 0 && a > 0 ? (6, 
        e = [ [ v(t), m(n) ], [ m(t), v(n) ] ]) : r < 0 && 0 === a ? (7, e = [ [ M(t), m(n) ], [ m(t), M(n) ] ]) : (8, 
        e = [ [ M(t), b(n) ], [ b(t), M(n) ] ]), [ g(e[0][0], e[0][1]), g(e[1][0], e[1][1]) ];
    }, k = function(t, n) {
        return t.match(n).slice(1);
    }, A = document.getElementById("i1"), I = document.getElementById("i2"), P = document.getElementById("type"), E = document.getElementById("output"), x = function(t, n) {
        return t = t === h ? 800 : t, n = n === p ? 1579 : n, "(min: " + (t = t < 0 ? 0 : t) + ", max: " + n + ")";
    }, B = function() {
        try {
            var e, r = A.value, a = I.value, o = t(r), u = t(a), i = n(o, u), s = i[0], c = i[1], f = s.toFixed(1), l = s - c, v = s + c, M = l.toFixed(1), m = v.toFixed(1), b = d(v), k = d(s), P = d(l), B = s ? parseInt(g(o, u)) : 0, K = y(o, u);
            e = k !== p && k !== h ? k + "</strong> <span>" + x(b, P) + "</span>" : k === h ? "Out of Range</strong>" : "Too Close</strong>";
            var L;
            K ? (K[0] = Math.floor(K[0]) % 360, K[1] = Math.ceil(K[1]) % 360, L = B + " degrees</strong> <span>" + x(K[0], K[1]) + "</span>") : L = B + " degrees</strong> (high error)";
            var w = "Distance: <strong>" + f + "m</strong> <span>" + x(M, m) + "</span>", z = "Milliradian: <strong>" + e, Z = "Bearing: <strong>" + L;
            E.innerHTML = w + "<br>" + z + "<br>" + Z;
        } catch (t) {
            E.innerHTML = "&nbsp;<br>&nbsp;<br>&nbsp;";
        }
    }, K = function(t) {
        B();
    }, L = function() {
        var t;
        switch (e) {
          case 1:
            t = "A1-KP1-1";
            break;

          case 2:
            t = "A111";
            break;

          case 3:
            t = "A1 11";
            break;

          case 4:
            t = "A1 1 1";
        }
        A.setAttribute("placeholder", "Position 1 (ex: '" + t + "')"), I.setAttribute("placeholder", "Position 2 (ex: '" + t + "')");
    }, w = function(t) {
        e = parseInt(P.value), L(), B();
    };
    A.addEventListener("input", K), I.addEventListener("input", K), P.addEventListener("change", w), 
    L();
}();