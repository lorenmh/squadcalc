!function() {
    function n(n) {
        var r, t = n[0].toUpperCase(), e = n[1], o = n[2], u = n.slice(3), a = t + e;
        return o ? (r = a + "-KP" + o, u.length ? r + "-" + u.join("-") : r) : a;
    }
    function r(n, r) {
        var t = n[0], e = n[1], o = (n[2], r[0]), u = r[1];
        r[2];
        return Math.hypot(o - t, u - e);
    }
    function t(n) {
        var r = E(n, a);
        return [ r[0], r[1] ].concat(r[2].replace(i, "").split(""));
    }
    function e(n) {
        var r, t, e, a, i = n[0], c = n[1], s = n.slice(2), p = parseInt(i, 36) - 10, f = parseInt(c) - 1, d = s.map(function(n) {
            return parseInt(n);
        }).map(function(n) {
            return [ u[n - 1][0], u[n - 1][1] ];
        }).map(function(n, r) {
            var t = Math.pow(1 / 3, r + 1);
            return [ n[0] * t, n[1] * t ];
        });
        d.length ? (r = d.map(function(n) {
            return n[0];
        }), t = d.map(function(n) {
            return n[1];
        }), e = r.reduce(function(n, r) {
            return n + r;
        }), a = t.reduce(function(n, r) {
            return n + r;
        })) : (e = 0, a = 0);
        var g = p + e, l = f + a, h = Math.pow(1 / 3, d.length);
        return console.log(h), [ g * o, l * o, h * o ];
    }
    var o = 300, u = [ [ 0, 2 ], [ 1, 2 ], [ 2, 2 ], [ 0, 1 ], [ 1, 1 ], [ 2, 1 ], [ 0, 0 ], [ 1, 0 ], [ 2, 0 ] ], a = /^([a-z])([12][0-9](?=(?:[k\s-]))|[1-9])((?:(?:\s+|-)?(?:kp?)?[1-9])*)(?:\s|-)?(?:kp?)?$/i, i = /[^1-9]/g, c = {}, s = {}, p = [ [ 50, 1579 ], [ 100, 1558 ], [ 150, 1538 ], [ 200, 1517 ], [ 250, 1496 ], [ 300, 1475 ], [ 350, 1453 ], [ 400, 1431 ], [ 450, 1409 ], [ 500, 1387 ], [ 550, 1364 ], [ 600, 1341 ], [ 650, 1317 ], [ 700, 1292 ], [ 750, 1267 ], [ 800, 1240 ], [ 850, 1212 ], [ 900, 1183 ], [ 950, 1152 ], [ 1e3, 1118 ], [ 1050, 1081 ], [ 1100, 1039 ], [ 1150, 988 ], [ 1200, 918 ], [ 1250, 800 ] ], f = 180 / Math.PI, d = function(n) {
        if (n < 50) return c;
        if (n > 1250) return s;
        var r, t, e, o, u, a, i, f, d, g;
        for (r = 0; r < p.length; r++) {
            if (t = p[r], e = p[r + 1], o = t[0], u = t[1], n === o) return u;
            if (!((a = e[0]) <= n)) return i = e[1], f = a - o, d = i - u, g = n - o, Math.round(d / f * g + u);
        }
    }, g = function(n, r) {
        var t = n[0], e = n[1], o = r[0], u = r[1], a = o - t, i = u - e, c = Math.hypot(a, i), s = a / c, p = i / c, d = Math.atan2(p, s), g = d * f;
        return 0 === s && 1 === p ? 180 : o > t && u >= e ? g + 90 : o >= t && u < e ? g + 90 : o < t && u >= e ? g + 90 : o <= t && u < e ? 180 - Math.abs(g) + 270 : void 0;
    }, l = function(n) {
        return [ n[0], n[1] ];
    }, h = function(n) {
        return [ n[0] + n[2], n[1] ];
    }, v = function(n) {
        return [ n[0] + n[2], n[1] + n[2] ];
    }, m = function(n) {
        return [ n[0], n[1] + n[2] ];
    }, M = function(n, r, t) {
        return n[0] < t[0] && r[0] > t[0] && n[1] < t[1] && r[1] > t[1];
    }, y = function(n, r, t, e) {
        return M(n, r, t) || M(n, r, [ e[0], t[1] ]) || M(n, r, e) || M(n, r, [ t[0], e[1] ]);
    }, I = function(n, r) {
        var t, e = n[0], o = n[1], u = r[0], a = r[1], i = [ e + n[2], o + n[2] ], c = [ u + r[2], a + r[2] ], s = u - e, p = a - o;
        if (e === u && o === a || y(n, i, r, c) || y(r, c, n, i)) return null;
        return 0 === s && p < 0 ? (1, t = [ [ h(n), m(r) ], [ l(n), v(r) ] ]) : s > 0 && p < 0 ? (2, 
        t = [ [ v(n), l(r) ], [ l(n), v(r) ] ]) : s > 0 && 0 === p ? (3, t = [ [ v(n), l(r) ], [ h(n), m(r) ] ]) : s > 0 && p > 0 ? (4, 
        t = [ [ m(n), h(r) ], [ h(n), m(r) ] ]) : 0 === s && p > 0 ? (5, t = [ [ m(n), h(r) ], [ v(n), l(r) ] ]) : s < 0 && p > 0 ? (6, 
        t = [ [ l(n), v(r) ], [ v(n), l(r) ] ]) : s < 0 && 0 === p ? (7, t = [ [ l(n), v(r) ], [ m(n), h(r) ] ]) : (8, 
        t = [ [ h(n), m(r) ], [ m(n), h(r) ] ]), [ g(t[0][0], t[0][1]), g(t[1][0], t[1][1]) ];
    }, b = function(n, t) {
        var e, o = n[0], u = n[1], a = t[0], i = t[1], c = [ o + n[2], u + n[2] ], s = [ a + t[2], i + t[2] ], p = a - o, f = i - u;
        if (o === a && u === i || y(n, c, t, s) || y(t, s, n, c)) return null;
        return 0 === p && f < 0 ? (1, e = [ [ l(n), m(t) ], [ m(n), h(t) ] ]) : p > 0 && f < 0 ? (2, 
        e = [ [ h(n), m(t) ], [ m(n), h(t) ] ]) : p > 0 && 0 === f ? (3, e = [ [ h(n), l(t) ], [ m(n), h(t) ] ]) : p > 0 && f > 0 ? (4, 
        e = [ [ v(n), l(t) ], [ l(n), v(t) ] ]) : 0 === p && f > 0 ? (5, e = [ [ m(n), l(t) ], [ l(n), v(t) ] ]) : p < 0 && f > 0 ? (6, 
        e = [ [ m(n), h(t) ], [ h(n), m(t) ] ]) : p < 0 && 0 === f ? (7, e = [ [ l(n), h(t) ], [ h(n), m(t) ] ]) : (8, 
        e = [ [ l(n), v(t) ], [ v(n), l(t) ] ]), [ r(e[0][0], e[0][1]), r(e[1][0], e[1][1]) ];
    }, E = function(n, r) {
        return n.match(r).slice(1);
    }, L = document.getElementById("i1"), T = document.getElementById("i2"), B = document.getElementById("output"), H = document.getElementById("p1"), w = document.getElementById("p2"), x = function(n, r) {
        return n = n === s ? 800 : n, r = r === c ? 1579 : r, "(min: " + (n = n < 0 ? 0 : n) + ", max: " + r + ")";
    }, k = function() {
        var o, u;
        try {
            var a, i, p, f, l = L.value, h = T.value, v = !1, m = !1;
            try {
                a = t(l), p = e(a), o = n(a);
            } catch (n) {
                v = !0;
            }
            try {
                i = t(h), f = e(i), u = n(i);
            } catch (n) {
                m = !0;
            }
            if (console.log(v, m), v || m) throw new Error();
            var M, y, E, k = [ p[0] + p[2] / 2, p[1] + p[2] / 2 ], F = [ f[0] + f[2] / 2, f[1] + f[2] / 2 ], C = r(k, F), P = b(p, f), j = C.toFixed(1), z = d(C), D = C ? parseInt(g(p, f)) : 0, K = I(p, f);
            P ? (y = P[0].toFixed(1), E = P[1].toFixed(1), M = j + "m</strong> <span>" + x(y, E) + "</span>") : M = D + " m</strong> <span>(high error)</span>";
            var O, R, U;
            z !== c && z !== s && P ? (R = d(P[1]), U = d(P[0]), O = z + "</strong> <span>" + x(R, U) + "</span>") : O = z === c || z === s ? z === s ? "Out of Range</strong>" : "Too Close</strong>" : z + "</strong> <span>(high error)</span>";
            var $;
            K ? (K[0] = Math.floor(K[0]) % 360, K[1] = Math.ceil(K[1]) % 360, $ = D + " degrees</strong> <span>" + x(K[0], K[1]) + "</span>") : $ = D + " degrees</strong> <span>(high error)</span>";
            var q = "Distance: <strong>" + M, A = "Milliradian: <strong>" + O, G = "Bearing: <strong>" + $;
            B.innerHTML = q + "<br>" + A + "<br>" + G, H.innerHTML = "<code>" + o + "</code>", 
            w.innerHTML = "<code>" + u + "</code>";
        } catch (n) {
            B.innerHTML = "&nbsp;<br>&nbsp;<br>&nbsp;", H.innerHTML = o ? "<code>" + o + "</code>" : "", 
            w.innerHTML = u ? "<code>" + u + "</code>" : "";
        }
    }, F = function(n) {
        k();
    };
    L.addEventListener("input", F), T.addEventListener("input", F);
}();