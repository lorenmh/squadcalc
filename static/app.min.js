!function() {
    function n(n) {
        var r, t = n[0].toUpperCase(), e = n[1], u = n[2], o = n.slice(3), a = t + e;
        return u ? (r = a + "-KP" + u, o.length ? r + "-" + o.join("-") : r) : a;
    }
    function r(n, r) {
        var t = n[0], e = n[1], u = (n[2], r[0]), o = r[1];
        r[2];
        return Math.hypot(u - t, o - e);
    }
    function t(n) {
        var r = E(n, a);
        return [ r[0], r[1] ].concat(r[2].replace(i, "").split(""));
    }
    function e(n) {
        var r, t, e, a, i = n[0], c = n[1], p = n.slice(2), s = parseInt(i, 36) - 10, f = parseInt(c) - 1, l = p.map(function(n) {
            return parseInt(n);
        }).map(function(n) {
            return [ o[n - 1][0], o[n - 1][1] ];
        }).map(function(n, r) {
            var t = Math.pow(1 / 3, r + 1);
            return [ n[0] * t, n[1] * t ];
        });
        l.length ? (r = l.map(function(n) {
            return n[0];
        }), t = l.map(function(n) {
            return n[1];
        }), e = r.reduce(function(n, r) {
            return n + r;
        }), a = t.reduce(function(n, r) {
            return n + r;
        })) : (e = 0, a = 0);
        var g = s + e, d = f + a, h = Math.pow(1 / 3, l.length);
        return console.log(h), [ g * u, d * u, h * u ];
    }
    var u = 300, o = [ [ 0, 2 ], [ 1, 2 ], [ 2, 2 ], [ 0, 1 ], [ 1, 1 ], [ 2, 1 ], [ 0, 0 ], [ 1, 0 ], [ 2, 0 ] ], a = /^([a-z])([12][0-9](?=(?:[k\s-]))|[1-9])((?:(?:\s+|-)?(?:kp?)?[1-9])*)(?:\s|-)?(?:kp?)?$/i, i = /[^1-9]/g, c = {}, p = {}, s = [ [ 50, 1579 ], [ 100, 1558 ], [ 150, 1538 ], [ 200, 1517 ], [ 250, 1496 ], [ 300, 1475 ], [ 350, 1453 ], [ 400, 1431 ], [ 450, 1409 ], [ 500, 1387 ], [ 550, 1364 ], [ 600, 1341 ], [ 650, 1317 ], [ 700, 1292 ], [ 750, 1267 ], [ 800, 1240 ], [ 850, 1212 ], [ 900, 1183 ], [ 950, 1152 ], [ 1e3, 1118 ], [ 1050, 1081 ], [ 1100, 1039 ], [ 1150, 988 ], [ 1200, 918 ], [ 1250, 800 ] ], f = 180 / Math.PI, l = function(n) {
        if (n < 50) return c;
        if (n > 1250) return p;
        var r, t, e, u, o, a, i, f, l, g;
        for (r = 0; r < s.length; r++) {
            if (t = s[r], e = s[r + 1], u = t[0], o = t[1], n === u) return o;
            if (!((a = e[0]) <= n)) return i = e[1], f = a - u, l = i - o, g = n - u, Math.round(l / f * g + o);
        }
    }, g = function(n, r) {
        var t = n[0], e = n[1], u = r[0], o = r[1], a = u - t, i = o - e, c = Math.hypot(a, i), p = a / c, s = i / c, l = Math.atan2(s, p), g = l * f;
        return 0 === p && 1 === s ? 180 : u > t && o >= e ? g + 90 : u >= t && o < e ? g + 90 : u < t && o >= e ? g + 90 : u <= t && o < e ? 180 - Math.abs(g) + 270 : void 0;
    }, d = function(n) {
        return [ n[0], n[1] ];
    }, h = function(n) {
        return [ n[0] + n[2], n[1] ];
    }, v = function(n) {
        return [ n[0] + n[2], n[1] + n[2] ];
    }, m = function(n) {
        return [ n[0], n[1] + n[2] ];
    }, M = function(n, r, t) {
        return n[0] < t[0] && r[0] > t[0] && n[1] < t[1] && r[1] > t[1];
    }, y = function(n, r, t, e) {
        return M(n, r, t) || M(n, r, [ e[0], t[1] ]) || M(n, r, e) || M(n, r, [ t[0], e[1] ]);
    }, I = function(n, r) {
        var t, e = n[0], u = n[1], o = r[0], a = r[1], i = [ e + n[2], u + n[2] ], c = [ o + r[2], a + r[2] ], p = o - e, s = a - u;
        if (e === o && u === a || y(n, i, r, c) || y(r, c, n, i)) return null;
        return 0 === p && s < 0 ? (1, t = [ [ h(n), m(r) ], [ d(n), v(r) ] ]) : p > 0 && s < 0 ? (2, 
        t = [ [ v(n), d(r) ], [ d(n), v(r) ] ]) : p > 0 && 0 === s ? (3, t = [ [ v(n), d(r) ], [ h(n), m(r) ] ]) : p > 0 && s > 0 ? (4, 
        t = [ [ m(n), h(r) ], [ h(n), m(r) ] ]) : 0 === p && s > 0 ? (5, t = [ [ m(n), h(r) ], [ v(n), d(r) ] ]) : p < 0 && s > 0 ? (6, 
        t = [ [ d(n), v(r) ], [ v(n), d(r) ] ]) : p < 0 && 0 === s ? (7, t = [ [ d(n), v(r) ], [ m(n), h(r) ] ]) : (8, 
        t = [ [ h(n), m(r) ], [ m(n), h(r) ] ]), [ g(t[0][0], t[0][1]), g(t[1][0], t[1][1]) ];
    }, b = function(n, t) {
        var e, u = n[0], o = n[1], a = t[0], i = t[1], c = [ u + n[2], o + n[2] ], p = [ a + t[2], i + t[2] ], s = a - u, f = i - o;
        if (u === a && o === i || y(n, c, t, p) || y(t, p, n, c)) return null;
        return 0 === s && f < 0 ? (1, e = [ [ d(n), m(t) ], [ m(n), h(t) ] ]) : s > 0 && f < 0 ? (2, 
        e = [ [ h(n), m(t) ], [ m(n), h(t) ] ]) : s > 0 && 0 === f ? (3, e = [ [ h(n), d(t) ], [ m(n), h(t) ] ]) : s > 0 && f > 0 ? (4, 
        e = [ [ m(n), h(t) ], [ h(n), m(t) ] ]) : 0 === s && f > 0 ? (5, e = [ [ m(n), d(t) ], [ d(n), v(t) ] ]) : s < 0 && f > 0 ? (6, 
        e = [ [ m(n), h(t) ], [ h(n), m(t) ] ]) : s < 0 && 0 === f ? (7, e = [ [ d(n), h(t) ], [ h(n), m(t) ] ]) : (8, 
        e = [ [ d(n), v(t) ], [ v(n), d(t) ] ]), [ r(e[0][0], e[0][1]), r(e[1][0], e[1][1]) ];
    }, E = function(n, r) {
        return n.match(r).slice(1);
    }, L = document.getElementById("i1"), T = document.getElementById("i2"), B = document.getElementById("output"), H = document.getElementById("p1"), w = document.getElementById("p2"), x = function(n, r) {
        return n = n === p ? 800 : n, r = r === c ? 1579 : r, "(min: " + (n = n < 0 ? 0 : n) + ", max: " + r + ")";
    }, k = function() {
        var u, o;
        try {
            var a, i, s, f, d = L.value, h = T.value, v = !1, m = !1;
            try {
                a = t(d), s = e(a), u = n(a);
            } catch (n) {
                v = !0;
            }
            try {
                i = t(h), f = e(i), o = n(i);
            } catch (n) {
                m = !0;
            }
            if (console.log(v, m), v || m) throw new Error();
            var M, y = [ s[0] + s[2] / 2, s[1] + s[2] / 2 ], E = [ f[0] + f[2] / 2, f[1] + f[2] / 2 ], k = r(y, E), F = b(s, f), C = k.toFixed(1), P = F[0], j = F[1], z = P.toFixed(1), D = j.toFixed(1), K = l(j), O = l(k), R = l(P), U = k ? parseInt(g(s, f)) : 0, $ = I(s, f);
            M = O !== c && O !== p ? O + "</strong> <span>" + x(K, R) + "</span>" : O === p ? "Out of Range</strong>" : "Too Close</strong>";
            var q;
            $ ? ($[0] = Math.floor($[0]) % 360, $[1] = Math.ceil($[1]) % 360, q = U + " degrees</strong> <span>" + x($[0], $[1]) + "</span>") : q = U + " degrees</strong> <span>(high error)</span>";
            var A = "Distance: <strong>" + C + "m</strong> <span>" + x(z, D) + "</span>", G = "Milliradian: <strong>" + M, J = "Bearing: <strong>" + q;
            B.innerHTML = A + "<br>" + G + "<br>" + J, H.innerHTML = "<pre>" + u + "</pre>", 
            w.innerHTML = "<pre>" + o + "</pre>";
        } catch (n) {
            B.innerHTML = "&nbsp;<br>&nbsp;<br>&nbsp;", H.innerHTML = u ? "<pre>" + u + "</pre>" : "", 
            w.innerHTML = o ? "<pre>" + o + "</pre>" : "";
        }
    }, F = function(n) {
        k();
    };
    L.addEventListener("input", F), T.addEventListener("input", F);
}();