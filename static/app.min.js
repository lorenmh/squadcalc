!function() {
    function e(e) {
        var t;
        switch (n) {
          case 1:
            t = s;
            break;

          case 2:
            t = i;
            break;

          case 3:
            t = o;
            break;

          case 4:
            t = c;
        }
        var u = I(e, t), d = !0, p = !0;
        void 0 === u[3] && (p = !1, void 0 === u[2] && (d = !1));
        var v = parseInt(u[0], 36) - 10, b = parseInt(u[1]) - 1, g = parseInt(u[2]) - 1, f = parseInt(u[3]) - 1, h = d ? r[g][0] / 3 : 0, l = d ? r[g][1] / 3 : 0, m = p ? r[f][0] / 9 : 0, A = p ? r[f][1] / 9 : 0, k = v + h + m, y = b + l + A, M = 0;
        return M = d || p ? p ? 1 / 9 : 1 / 3 : 1, [ k * a, y * a, M * a ];
    }
    function t(e, t) {
        var n = e[0], a = e[1], r = e[2], s = t[0], i = t[1], o = t[2];
        return [ Math.hypot(s - n, i - a), Math.hypot(r, o) ];
    }
    var n = 2, a = 300, r = [ [ 0, 0 ], [ 1, 0 ], [ 2, 0 ], [ 0, 1 ], [ 1, 1 ], [ 2, 1 ], [ 0, 2 ], [ 1, 2 ], [ 2, 2 ] ], s = /^([A-Za-z])([1-9]|1[0-9])(?:\-[Kk][Pp]?(\d)(?:\-(\d))?)?$/, i = /^([A-Za-z])([1-9]|1[0-9])(?:[Kk][Pp]?(\d)(\d)?)?$/, o = /^([A-Za-z])([1-9]|1[0-9])(?:\s+(\d)(\d)?)?$/, c = /^([A-Za-z])([1-9]|1[0-9])(?:\s+(\d)(?:\s+(\d))?)?$/, u = [ 1611.342362585303, -.780011423446922, .0036687139521660583, -16450984941129843e-21, 3.7604744170742065e-8, -4.596546039859563e-11, 2.847194494843758e-14, -7.04244419393223e-18 ], d = 180 / Math.PI, p = function(e) {
        return u.map(function(t, n) {
            return t * Math.pow(e, n);
        }).reduce(function(e, t) {
            return e + t;
        });
    }, v = function(e, t) {
        return (Math.atan2(t[1] - e[1], t[0] - e[0]) * d + 450) % 360;
    }, I = function(e, t) {
        return e.match(t).slice(1);
    }, b = document.getElementById("i1"), g = document.getElementById("i2"), f = document.getElementById("type"), h = document.getElementById("output"), l = function(e, t) {
        return "(min: " + (e = e > 0 ? e : 0) + ", max: " + t + ")";
    }, m = function() {
        try {
            var n = b.value, a = g.value, r = e(n), s = e(a), i = t(r, s), o = i[0], c = i[1], u = o.toFixed(1), d = o - c, I = o + c, f = d.toFixed(1), m = I.toFixed(1), A = parseInt(p(I)), k = parseInt(p(o)), y = parseInt(p(d)), M = parseInt(v([ r[0], r[1] - c ], [ s[0] + c, s[1] ])), E = o ? parseInt(v(r, s)) : 0, x = parseInt(v([ r[0] + c, r[1] ], [ s[0], s[1] - c ]));
            M, x;
            var P;
            o < 1350 && k > 0 ? (y = y < 1600 ? y : 1600, k = k < 1600 ? k : 1600, P = k + "</strong> <span>" + l(A, y) + "</span>") : P = "Out of Range</strong>";
            var B = "Distance: <strong>" + u + "m</strong> <span>" + l(f, m) + "</span>", L = "Milliradian: <strong>" + P, z = "Bearing: <strong>" + E + " degrees</strong>";
            h.innerHTML = B + "<br>" + L + "<br>" + z;
        } catch (e) {
            h.innerHTML = "&nbsp;<br>&nbsp;<br>&nbsp;";
        }
    }, A = function(e) {
        m();
    }, k = function() {
        var e;
        switch (n) {
          case 1:
            e = "A1-KP1-1";
            break;

          case 2:
            e = "A1K11";
            break;

          case 3:
            e = "A1 11";
            break;

          case 4:
            e = "A1 1 1";
        }
        b.setAttribute("placeholder", "Position 1 (ex: '" + e + "')"), g.setAttribute("placeholder", "Position 2 (ex: '" + e + "')");
    }, y = function(e) {
        n = parseInt(f.value), k(), m();
    };
    b.addEventListener("input", A), g.addEventListener("input", A), f.addEventListener("change", y), 
    k();
}();